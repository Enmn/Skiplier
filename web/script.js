function getDomain(e,t){return t=t||!1,e=e.replace(/(https?:\/\/)?(www.)?/i,""),t||(e=(e=e.split(".")).slice(e.length-2).join(".")),-1!==e.indexOf("/")?e.split("/")[0]:e}function ValidURL(e){return!!/(?:https?):\/\/(\w+:?\w*)?(\S+)(:\d+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/.test(e)||(document.getElementById("p1").innerHTML="",document.getElementById("error").innerHTML="Please make sure that you have entered the abbreviated form correctly",document.getElementById("search_box").style.borderColor="#FF4B4B",document.getElementById("search_box").style.boxShadow="0 0 10px #FB2F2F",document.getElementById("destination").innerHTML="",document.getElementById("dest").innerHTML="",document.getElementById("source").innerHTML="",document.getElementById("sourcetext").innerHTML="",document.getElementById("source").innerHTML="",document.getElementById("sourcedomaintext").innerHTML="",document.getElementById("sourcedomain").innerHTML="",document.getElementById("destdomaintext").innerHTML="",document.getElementById("destdomain").innerHTML="",!1)}var input=document.getElementById("input_box");input.addEventListener("keypress",function(e){var t=input.value;"Enter"===e.key&&!0===ValidURL(t)&&(document.getElementById("error").innerHTML="",document.getElementById("search_box").style.borderColor="none",document.getElementById("search_box").style.boxShadow="rgba(0, 0, 0, 0.20) 0px 5px 15px 0px",document.getElementById("p1").style.color="",document.getElementById("p1").innerHTML="",document.getElementById("destination").innerHTML="",document.getElementById("dest").innerHTML="",document.getElementById("sourcetext").innerHTML="",document.getElementById("source").innerHTML="",document.getElementById("sourcedomaintext").innerHTML="",document.getElementById("sourcedomain").innerHTML="",document.getElementById("destdomaintext").innerHTML="",document.getElementById("destdomain").innerHTML="",document.getElementById("wait").src="./wait.gif",document.getElementById("load").innerHTML="Loading ...",axios.get("https://stormapi-v1.herokuapp.com/api/?url="+t).then(function(e){document.getElementById("wait").src="",document.getElementById("load").innerHTML="",document.getElementById("error").innerHTML="",document.getElementById("search_box").style.borderColor="none",document.getElementById("search_box").style.boxShadow="rgba(0, 0, 0, 0.20) 0px 5px 15px 0px",document.getElementById("p1").style.color="#000000",document.getElementById("p1").innerHTML=t.toUpperCase(),document.getElementById("destination").innerHTML="Destination URL",document.getElementById("dest").innerHTML=e.data,document.getElementById("sourcetext").innerHTML="Source URL",document.getElementById("source").innerHTML=t,document.getElementById("sourcedomaintext").innerHTML="Source Domain",document.getElementById("sourcedomain").innerHTML=getDomain(t,!0),document.getElementById("destdomaintext").innerHTML="Destination Domain",document.getElementById("destdomain").innerHTML=getDomain(e.data,!0)}))});
